{% extends "app_general/base.html" %}

{% block extra_css %}
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f8f9fa;
        color: #343a40;
    }

    .container {
        max-width: 1200px;
        margin: auto;
        padding: 20px;
    }

    .header {
        text-align: center;
        margin-bottom: 40px;
    }

    .header h1 {
        font-size: 36px;
        font-weight: bold;
        color: #007bff;
    }

    .slideshow-container {
        position: relative;
        margin: auto;
        overflow: hidden;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .static-slides {
        display: flex;
        width: 100%;
        overflow: hidden;
    }

    .static-slide {
        flex: 1;
        position: relative;
    }

    .static-slide img {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 10px;
    }

    .caption {
        position: absolute;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        color: #fff;
        width: 100%;
        text-align: center;
        padding: 10px;
        font-size: 18px;
        border-radius: 0 0 10px 10px;
    }

    .button-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

    .btn-custom {
        display: inline-block;
        padding: 10px 20px;
        margin: 0 10px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .btn-custom:hover {
        background-color: #0056b3;
    }

    .profile-btn {
        display: inline-block;
        margin-top: 15px;
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border-radius: 5px;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }

    .profile-btn:hover {
        background-color: #218838;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="header">
        {% if user.is_authenticated %}
            <h1>สวัสดี {{ user.username }}</h1>
            {% if user.account.role == "customer" %}
                <a href="{% url 'edit_profile' %}" class="profile-btn">แก้ไขโปรไฟล์</a>
            {% endif %}
        {% else %}
            <h1>ยินดีต้อนรับสู่ Online Market Place</h1>
            <p>โปรด <a href="{% url 'login' %}" class="btn-custom">เข้าสู่ระบบ</a> เพื่อใช้งาน</p>
        {% endif %}
    </div>

    {% if user.is_authenticated and user.account.role == "admin" %}
        <div class="button-container">
            <a href="{% url 'add_slide' %}" class="btn-custom">เพิ่มรูปภาพหน้า Home</a>
            <a href="{% url 'admin_order' %}" class="btn-custom">คำสั่งซื้อ</a>
        </div>
    {% endif %}
<br>
    <div class="slideshow-container">
        <div class="static-slides">
            {% for slide in slides %}
                <div class="static-slide">
                    <img src="{{ slide.image.url }}" alt="{{ slide.caption }}">
                    <div class="caption">{{ slide.caption }}</div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

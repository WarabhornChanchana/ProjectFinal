{% extends "app_general/base.html" %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load custom_filters %}

{% block head %}
{{ wizard.form.media }}
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="progress mb-3">
    <div class="progress-bar" role="progressbar" style="width: {{ wizard.steps.step1|multiply:100|div:wizard.steps.count }}%;" aria-valuenow="{{ wizard.steps.step1 }}" aria-valuemin="0" aria-valuemax="{{ wizard.steps.count }}">

      {% blocktrans with step=wizard.steps.step1 count=wizard.steps.count %}
      ขั้นตอนที่ {{ step }} จาก {{ count }}
      {% endblocktrans %}
      
    </div>
  </div>
  <form action="" method="post">
    {% csrf_token %}
    {{ wizard.management_form }}
    {% if wizard.form.forms %}
      {{ wizard.form.management_form }}
      {% for form in wizard.form.forms %}
        {{ form|crispy }}
      {% endfor %}
    {% else %}
      {{ wizard.form|crispy }}
    {% endif %}
    <div class="navigation-buttons">
      {% if wizard.steps.prev %}
        <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}" class="btn btn-secondary">ขั้นตอนแรก</button>
        <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}" class="btn btn-primary">ขั้นตอนก่อนหน้า</button>
      {% endif %}
      <input type="submit" value="ส่ง" class="btn btn-success"/>
    </div>
  </form>
</div>
{% endblock %}
